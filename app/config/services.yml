# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
#    parameter_name: value

services:
#    service_name:
#        class: AppBundle\Directory\ClassName
#        arguments: ["@another_service_name", "plain_value", "%parameter_name%"]


    event_store:
        class:          Milhojas\Library\EventSourcing\EventStore\DoctrineEventStorage
        arguments:      ["@doctrine.orm.entity_manager"]
    post_repository:
        class:          Milhojas\Infrastructure\Persistence\Contents\EventSourcedPostRepository
        arguments:      ["@event_store"]
    handler_container:
        class:          Milhojas\Library\CommandBus\Containers\HandlerContainer
        arguments:      ["@service_container"]
    handler_inflector:
        class:          Milhojas\Library\CommandBus\Inflectors\HandlerInflector
        
# Contents Post Command Handlers
    write_post_handler:
        class:          Milhojas\Application\Contents\WritePostHandler
        arguments:      ["@post_repository"]
    update_post_handler:
        class:          Milhojas\Application\Contents\UpdatePostHandler
        arguments:      ["@post_repository"]

# Payroll dependencies
    payroll_send:
        class:          AppBundle\Command\Payroll\SendCommand
        arguments:      ["@mailer", "%payroll.sender%", "%payroll.report%", "%payroll.dataPath%"]
        tags:
             - {name: console.command}
        